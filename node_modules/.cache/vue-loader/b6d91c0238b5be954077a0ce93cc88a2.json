{"remainingRequest":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/src/components/Comment/TextBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/src/components/Comment/TextBox.vue","mtime":1680943788598},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js","mtime":1680943968418},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/babel-loader/lib/index.js","mtime":1680943970633},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js","mtime":1680943968418},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/vue-loader/lib/index.js","mtime":1680943969372}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y3JlYXRlQ29tbWVudH0gZnJvbSAiQC9hcGkvY29tbWVudCI7CmltcG9ydCB7CiAgLy8g6ZyA6KaB55qEIGV4dGVuc2lvbnMKICBEb2MsCiAgVGV4dCwKICBQYXJhZ3JhcGgsCiAgSGVhZGluZywKICBCb2xkLAogIFVuZGVybGluZSwKICBJdGFsaWMsCiAgU3RyaWtlLAogIExpc3RJdGVtLAogIEJ1bGxldExpc3QsCiAgT3JkZXJlZExpc3QsCn0gZnJvbSAnZWxlbWVudC10aXB0YXAnOwppbXBvcnQge21hcEdldHRlcnN9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUZXh0Qm94IiwKICBwcm9wczogewogICAgZGlzaF9pZDogTnVtYmVyLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAndXNlcl9pZCcKICAgIF0pCiAgfSwKICBkYXRhKCkgewogICAgLy8g57yW6L6R5Zmo55qEIGV4dGVuc2lvbnMKICAgIC8vIOWug+S7rOWwhuS8muaMieeFp+S9oOWjsOaYjueahOmhuuW6j+iiq+a3u+WKoOWIsOiPnOWNleagj+WSjOawlOazoeiPnOWNleS4rQogICAgcmV0dXJuIHsKICAgICAgZXh0ZW5zaW9uczogWwogICAgICAgIG5ldyBEb2MoKSwKICAgICAgICBuZXcgVGV4dCgpLAogICAgICAgIG5ldyBQYXJhZ3JhcGgoKSwKICAgICAgICBuZXcgSGVhZGluZyh7bGV2ZWw6IDV9KSwKICAgICAgICBuZXcgQm9sZCh7YnViYmxlOiB0cnVlfSksIC8vIOWcqOawlOazoeiPnOWNleS4rea4suafk+iPnOWNleaMiemSrgogICAgICAgIG5ldyBVbmRlcmxpbmUoe2J1YmJsZTogdHJ1ZSwgbWVudWJhcjogZmFsc2V9KSwgLy8g5Zyo5rCU5rOh6I+c5Y2V6ICM5LiN5Zyo6I+c5Y2V5qCP5Lit5riy5p+T6I+c5Y2V5oyJ6ZKuCiAgICAgICAgbmV3IEl0YWxpYygpLAogICAgICAgIG5ldyBTdHJpa2UoKSwKICAgICAgICBuZXcgTGlzdEl0ZW0oKSwKICAgICAgICBuZXcgQnVsbGV0TGlzdCgpLAogICAgICAgIG5ldyBPcmRlcmVkTGlzdCgpLAogICAgICBdLAogICAgICAvLyDnvJbovpHlmajnmoTlhoXlrrkKICAgICAgY29udGVudDogYAogICAgICAgIDxwPuWPkeW4g+S9oOeahOivhOiuuu+8gTwvcD4KICAgICAgYCwKICAgICAgc3RhcnM6IDUsCiAgICAgIGNvbG9yczogWycjOTlBOUJGJywgJyNGN0JBMkEnLCAnI0ZGOTkwMCddCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlU3RhcnMoKSB7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCkKICAgIH0sCiAgICBoYW5kbGVDcmVhdGVDb21tZW50KCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmRpc2hfaWQpCiAgICAgIGxldCBxdWVyeSA9IHsKICAgICAgICBjb21tZW50X3RleHQ6IHRoaXMuY29udGVudCwKICAgICAgICB1c2VyX2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJfaWQsCiAgICAgICAgZGlzaF9pZDogdGhpcy5kaXNoX2lkLAogICAgICAgIGNvbW1lbnRfc3RhcjogdGhpcy5zdGFycwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHF1ZXJ5KQogICAgICBjcmVhdGVDb21tZW50KHF1ZXJ5KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSwgMS41ICogMTAwMCkKICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZScpCiAgICAgIH0pCiAgICB9LAogIH0KfQo="},{"version":3,"sources":["TextBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TextBox.vue","sourceRoot":"src/components/Comment","sourcesContent":["<template>\n  <div style=\"background-color: white\">\n    <el-row>\n      <el-tiptap v-model=\"content\" :extensions=\"extensions\"/>\n    </el-row>\n    <el-row type=\"flex\" justify=\"space-around\" align=\"middle\">\n      <el-col :span=\"2\">\n        评分\n      </el-col>\n      <el-col :span=\"18\">\n        <el-rate\n          v-model=\"stars\"\n          :colors=\"this.colors\"\n          show-text\n        >\n        </el-rate>\n      </el-col>\n      <el-col :span=\"1\">\n        <v-btn\n          icon\n          @click=\"handleCreateComment()\">\n          <v-icon>\n            mdi-comment-check\n          </v-icon>\n        </v-btn>\n\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {createComment} from \"@/api/comment\";\nimport {\n  // 需要的 extensions\n  Doc,\n  Text,\n  Paragraph,\n  Heading,\n  Bold,\n  Underline,\n  Italic,\n  Strike,\n  ListItem,\n  BulletList,\n  OrderedList,\n} from 'element-tiptap';\nimport {mapGetters} from \"vuex\";\n\nexport default {\n  name: \"TextBox\",\n  props: {\n    dish_id: Number,\n  },\n  computed: {\n    ...mapGetters([\n      'user_id'\n    ])\n  },\n  data() {\n    // 编辑器的 extensions\n    // 它们将会按照你声明的顺序被添加到菜单栏和气泡菜单中\n    return {\n      extensions: [\n        new Doc(),\n        new Text(),\n        new Paragraph(),\n        new Heading({level: 5}),\n        new Bold({bubble: true}), // 在气泡菜单中渲染菜单按钮\n        new Underline({bubble: true, menubar: false}), // 在气泡菜单而不在菜单栏中渲染菜单按钮\n        new Italic(),\n        new Strike(),\n        new ListItem(),\n        new BulletList(),\n        new OrderedList(),\n      ],\n      // 编辑器的内容\n      content: `\n        <p>发布你的评论！</p>\n      `,\n      stars: 5,\n      colors: ['#99A9BF', '#F7BA2A', '#FF9900']\n    };\n  },\n  methods: {\n    changeStars() {\n      this.$forceUpdate()\n    },\n    handleCreateComment() {\n      console.log(this.dish_id)\n      let query = {\n        comment_text: this.content,\n        user_id: this.$store.state.user.user_id,\n        dish_id: this.dish_id,\n        comment_star: this.stars\n      }\n      console.log(query)\n      createComment(query).then((response) => {\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1.5 * 1000)\n        this.$emit('close')\n      })\n    },\n  }\n}\n</script>\n"]}]}