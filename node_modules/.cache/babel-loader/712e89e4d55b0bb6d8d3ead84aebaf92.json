{"remainingRequest":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/babel-loader/lib/index.js!/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/src/components/Suggest/TextBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/src/components/Suggest/TextBox.vue","mtime":1680943788602},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/babel.config.js","mtime":1680943788576},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js","mtime":1680943968418},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/babel-loader/lib/index.js","mtime":1680943970633},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js","mtime":1680943968418},{"path":"/Users/shl/Desktop/Moss罗杰软工/frontend/buaa2022-db/node_modules/vue-loader/lib/index.js","mtime":1680943969372}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3NobC9EZXNrdG9wL01vc3NcdTdGNTdcdTY3NzBcdThGNkZcdTVERTUvZnJvbnRlbmQvYnVhYTIwMjItZGIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgY3JlYXRlQ29tbWVudCB9IGZyb20gIkAvYXBpL2NvbW1lbnQiOwppbXBvcnQgewovLyDpnIDopoHnmoQgZXh0ZW5zaW9ucwpEb2MsIFRleHQsIFBhcmFncmFwaCwgSGVhZGluZywgQm9sZCwgVW5kZXJsaW5lLCBJdGFsaWMsIFN0cmlrZSwgTGlzdEl0ZW0sIEJ1bGxldExpc3QsIE9yZGVyZWRMaXN0IH0gZnJvbSAnZWxlbWVudC10aXB0YXAnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGNyZWF0ZVN1Z2dlc3QgfSBmcm9tICJAL2FwaS9zdWdnZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUZXh0Qm94IiwKICBwcm9wczogewogICAgZGlzaF9pZDogTnVtYmVyCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3VzZXJfaWQnXSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAvLyDnvJbovpHlmajnmoQgZXh0ZW5zaW9ucwogICAgLy8g5a6D5Lus5bCG5Lya5oyJ54Wn5L2g5aOw5piO55qE6aG65bqP6KKr5re75Yqg5Yiw6I+c5Y2V5qCP5ZKM5rCU5rOh6I+c5Y2V5LitCiAgICByZXR1cm4gewogICAgICBleHRlbnNpb25zOiBbbmV3IERvYygpLCBuZXcgVGV4dCgpLCBuZXcgUGFyYWdyYXBoKCksIG5ldyBIZWFkaW5nKHsKICAgICAgICBsZXZlbDogNQogICAgICB9KSwgbmV3IEJvbGQoewogICAgICAgIGJ1YmJsZTogdHJ1ZQogICAgICB9KSwKICAgICAgLy8g5Zyo5rCU5rOh6I+c5Y2V5Lit5riy5p+T6I+c5Y2V5oyJ6ZKuCiAgICAgIG5ldyBVbmRlcmxpbmUoewogICAgICAgIGJ1YmJsZTogdHJ1ZSwKICAgICAgICBtZW51YmFyOiBmYWxzZQogICAgICB9KSwKICAgICAgLy8g5Zyo5rCU5rOh6I+c5Y2V6ICM5LiN5Zyo6I+c5Y2V5qCP5Lit5riy5p+T6I+c5Y2V5oyJ6ZKuCiAgICAgIG5ldyBJdGFsaWMoKSwgbmV3IFN0cmlrZSgpLCBuZXcgTGlzdEl0ZW0oKSwgbmV3IEJ1bGxldExpc3QoKSwgbmV3IE9yZGVyZWRMaXN0KCldLAogICAgICAvLyDnvJbovpHlmajnmoTlhoXlrrkKICAgICAgY29udGVudDogIlxuICAgICAgICA8cD5cdTUzRDFcdTg4NjhcdTRGNjBcdTc2ODRcdTVFRkFcdThCQUU8L3A+XG4gICAgICAiLAogICAgICBjb2xvcnM6IFsnIzk5QTlCRicsICcjRjdCQTJBJywgJyNGRjk5MDAnXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVN0YXJzOiBmdW5jdGlvbiBjaGFuZ2VTdGFycygpIHsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBoYW5kbGVDcmVhdGVTdWdnZXN0OiBmdW5jdGlvbiBoYW5kbGVDcmVhdGVTdWdnZXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgcXVlcnkgPSB7CiAgICAgICAgdXNlcl9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkLAogICAgICAgIHN1Z2dlc3RfdGV4dDogdGhpcy5jb250ZW50CiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKHF1ZXJ5KTsKICAgICAgY3JlYXRlU3VnZ2VzdChxdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMS41ICogMTAwMCk7CiAgICAgICAgX3RoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["createComment","Doc","Text","Paragraph","Heading","Bold","Underline","Italic","Strike","ListItem","BulletList","OrderedList","mapGetters","createSuggest","name","props","dish_id","Number","computed","_objectSpread","data","extensions","level","bubble","menubar","content","colors","methods","changeStars","$forceUpdate","handleCreateSuggest","_this","query","user_id","$store","state","user","suggest_text","console","log","then","response","setTimeout","listLoading","$emit"],"sources":["src/components/Suggest/TextBox.vue"],"sourcesContent":["<template>\n  <div style=\"background-color: white\">\n    <el-row>\n      <el-tiptap v-model=\"content\" :extensions=\"extensions\"/>\n    </el-row>\n    <el-row type=\"flex\" justify=\"space-around\" align=\"middle\">\n      <el-col :span=\"1\" :offset=\"20\">\n        <v-btn\n          icon\n          @click=\"handleCreateSuggest()\">\n          <v-icon>\n            mdi-check-decagram-outline\n          </v-icon>\n        </v-btn>\n\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {createComment} from \"@/api/comment\";\nimport {\n  // 需要的 extensions\n  Doc,\n  Text,\n  Paragraph,\n  Heading,\n  Bold,\n  Underline,\n  Italic,\n  Strike,\n  ListItem,\n  BulletList,\n  OrderedList,\n} from 'element-tiptap';\nimport {mapGetters} from \"vuex\";\nimport {createSuggest} from \"@/api/suggest\";\n\nexport default {\n  name: \"TextBox\",\n  props: {\n    dish_id: Number,\n  },\n  computed: {\n    ...mapGetters([\n      'user_id'\n    ])\n  },\n  data() {\n    // 编辑器的 extensions\n    // 它们将会按照你声明的顺序被添加到菜单栏和气泡菜单中\n    return {\n      extensions: [\n        new Doc(),\n        new Text(),\n        new Paragraph(),\n        new Heading({level: 5}),\n        new Bold({bubble: true}), // 在气泡菜单中渲染菜单按钮\n        new Underline({bubble: true, menubar: false}), // 在气泡菜单而不在菜单栏中渲染菜单按钮\n        new Italic(),\n        new Strike(),\n        new ListItem(),\n        new BulletList(),\n        new OrderedList(),\n      ],\n      // 编辑器的内容\n      content: `\n        <p>发表你的建议</p>\n      `,\n      colors: ['#99A9BF', '#F7BA2A', '#FF9900']\n    };\n  },\n  methods: {\n    changeStars() {\n      this.$forceUpdate()\n    },\n    handleCreateSuggest() {\n      let query = {\n        user_id: this.$store.state.user.user_id,\n        suggest_text: this.content\n      }\n      console.log(query)\n      createSuggest(query).then((response) => {\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1.5 * 1000)\n        this.$emit('close')\n      })\n    },\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA,SAAAA,aAAA;AACA;AACA;AACAC,GAAA,EACAC,IAAA,EACAC,SAAA,EACAC,OAAA,EACAC,IAAA,EACAC,SAAA,EACAC,MAAA,EACAC,MAAA,EACAC,QAAA,EACAC,UAAA,EACAC,WAAA,QACA;AACA,SAAAC,UAAA;AACA,SAAAC,aAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,OAAA,EAAAC;EACA;EACAC,QAAA,EAAAC,aAAA,KACAP,UAAA,EACA,UACA,EACA;EACAQ,IAAA,WAAAA,KAAA;IACA;IACA;IACA;MACAC,UAAA,GACA,IAAApB,GAAA,IACA,IAAAC,IAAA,IACA,IAAAC,SAAA,IACA,IAAAC,OAAA;QAAAkB,KAAA;MAAA,IACA,IAAAjB,IAAA;QAAAkB,MAAA;MAAA;MAAA;MACA,IAAAjB,SAAA;QAAAiB,MAAA;QAAAC,OAAA;MAAA;MAAA;MACA,IAAAjB,MAAA,IACA,IAAAC,MAAA,IACA,IAAAC,QAAA,IACA,IAAAC,UAAA,IACA,IAAAC,WAAA,GACA;MACA;MACAc,OAAA,iEAEA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,YAAA;IACA;IACAC,mBAAA,WAAAA,oBAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,KAAA;QACAC,OAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAH,OAAA;QACAI,YAAA,OAAAZ;MACA;MACAa,OAAA,CAAAC,GAAA,CAAAP,KAAA;MACAnB,aAAA,CAAAmB,KAAA,EAAAQ,IAAA,WAAAC,QAAA;QACAC,UAAA;UACAX,KAAA,CAAAY,WAAA;QACA;QACAZ,KAAA,CAAAa,KAAA;MACA;IACA;EACA;AACA"}]}