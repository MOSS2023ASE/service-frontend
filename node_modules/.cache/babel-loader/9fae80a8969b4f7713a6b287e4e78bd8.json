{"remainingRequest":"/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/node_modules/babel-loader/lib/index.js!/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/src/views/HomeView/components/foodCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/src/views/HomeView/components/foodCard.vue","mtime":1680943788619},{"path":"/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/babel.config.js","mtime":1680943788576},{"path":"/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js","mtime":1680943968418},{"path":"/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/node_modules/babel-loader/lib/index.js","mtime":1680943970633},{"path":"/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/node_modules/cache-loader/dist/cjs.js","mtime":1680943968418},{"path":"/Users/shl/Desktop/MossÁΩóÊù∞ËΩØÂ∑•/frontend/buaa2022-db/node_modules/vue-loader/lib/index.js","mtime":1680943969372}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBlYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgZ2V0Q29tbWVudHMsIGNyZWF0ZUNvbW1lbnQsIGRlbGV0ZUNvbW1lbnQgfSBmcm9tICJAL2FwaS9jb21tZW50IjsKaW1wb3J0IFRleHRCb3ggZnJvbSAiQC9jb21wb25lbnRzL0NvbW1lbnQvVGV4dEJveCI7CmltcG9ydCB7IGFkZEZhdm9yLCBkZWxGYXZvciwgZmV0Y2hGYXZvciwgaXNGYXZvciB9IGZyb20gIkAvYXBpL2Zhdm9yIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmb29kQ2FyZCIsCiAgY29tcG9uZW50czogewogICAgVGV4dEJveDogVGV4dEJveAogIH0sCiAgcHJvcHM6IFsnZGlzaF9pZCcsICdkaXNoX25hbWUnLCAnY2FudGVlbicsICdkaXNoX3ByaWNlJywgJ2luZm8nLCAnZGlzaF9zdGFyJywgJ2Rpc2hfdGFnJywgJ3Nob3dDcm93bicsICdkaXNoX3BpYyddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICB0ZXh0Qm94OiBmYWxzZSwKICAgICAgdXNlcl9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkLAogICAgICBib29rbWFya2ZsYWc6IHRydWUsCiAgICAgIHBhZ2U6IDEsCiAgICAgIG51bU9mQ29tbWVudHNfcGVycGFnZTogNSwKICAgICAgc2VsZWN0ZWQ6IFsyXSwKICAgICAgY29tbWVudHM6IFt7CiAgICAgICAgYWN0aW9uOiAnMTUgbWluJywKICAgICAgICBoZWFkbGluZTogJ0JydW5jaCB0aGlzIHdlZWtlbmQ/JywKICAgICAgICB0aXRsZTogJ0FsaSBDb25ub3JzJywKICAgICAgICBzdWJ0aXRsZTogIkknbGwgYmUgaW4geW91ciBuZWlnaGJvcmhvb2QgZG9pbmcgZXJyYW5kcyB0aGlzIHdlZWtlbmQuIERvIHlvdSB3YW50IHRvIGhhbmcgb3V0PyIKICAgICAgfV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pc2Zhdm9yKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc2Zhdm9yOiBmdW5jdGlvbiBpc2Zhdm9yKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgRGlkID0gewogICAgICAgIHVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZCwKICAgICAgICBkaXNoX2lkOiB0aGlzLmRpc2hfaWQKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coRGlkKTsKICAgICAgaXNGYXZvcihEaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGZsYWcgPSByZXNwb25zZS5kYXRhLmlzZmF2b3I7CiAgICAgICAgX3RoaXMuYm9va21hcmtmbGFnID0gZmxhZyA9PT0gMTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd0Zvb2REZXRhaWxzOiBmdW5jdGlvbiBzaG93Rm9vZERldGFpbHMoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcl9pZCk7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5oYW5kbGVHZXRDb21tZW50cygpOwogICAgfSwKICAgIHNob3dDb21tZW50VGV4dEJveDogZnVuY3Rpb24gc2hvd0NvbW1lbnRUZXh0Qm94KCkgewogICAgICB0aGlzLnRleHRCb3ggPSB0cnVlOwogICAgICBjb25zb2xlLmxvZygidGhpcyBEaXNoSWQgaXM6IiArIHRoaXMuZGlzaF9pZCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGlzaF9uYW1lKTsKICAgIH0sCiAgICBqb2luc3RyOiBmdW5jdGlvbiBqb2luc3RyKHN0cnMpIHsKICAgICAgcmV0dXJuIHN0cnMuam9pbigpOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZUNvbW1lbnQ6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNvbW1lbnQocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgcXVlcnkgPSB7CiAgICAgICAgY29tbWVudF9pZDogcm93LmNvbW1lbnRfaWQKICAgICAgfTsKICAgICAgZGVsZXRlQ29tbWVudChxdWVyeSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuaGFuZGxlR2V0Q29tbWVudHMoKTsKICAgICAgICB9KTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0sIDEuNSAqIDEwMDApOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVHZXRDb21tZW50czogZnVuY3Rpb24gaGFuZGxlR2V0Q29tbWVudHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgbGlzdF9xdWVyeSA9IHsKICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXJfaWQsCiAgICAgICAgZGlzaF9pZDogdGhpcy5kaXNoX2lkCiAgICAgIH07CiAgICAgIGdldENvbW1lbnRzKGxpc3RfcXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIG9yaWdpbkRhdGEgPSByZXNwb25zZS5kYXRhLmNvbW1lbnRfbGlzdDsKICAgICAgICBjb25zb2xlLmxvZyhvcmlnaW5EYXRhKTsKICAgICAgICB2YXIgbyA9IHt9OwogICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLmNvbW1lbnRzID0gW107CiAgICAgICAgICBmb3IgKG8gaW4gb3JpZ2luRGF0YSkgewogICAgICAgICAgICB2YXIgY29tbWVudCA9IHsKICAgICAgICAgICAgICBjb21tZW50X2lkOiBvcmlnaW5EYXRhW29dLmNvbW1lbnRfaWQsCiAgICAgICAgICAgICAgdXNlcl9pZDogb3JpZ2luRGF0YVtvXS51c2VyX2lkLAogICAgICAgICAgICAgIGFjdGlvbjogJycsCiAgICAgICAgICAgICAgaGVhZGxpbmU6IG9yaWdpbkRhdGFbb10udXNlcl9uYW1lLAogICAgICAgICAgICAgIHRpdGxlOiAn6K+E6K66JywKICAgICAgICAgICAgICBzdWJ0aXRsZTogb3JpZ2luRGF0YVtvXS5jb21tZW50X3RleHQsCiAgICAgICAgICAgICAgY29tbWVudF9zdGFyOiBvcmlnaW5EYXRhW29dLmNvbW1lbnRfc3RhcgogICAgICAgICAgICB9OwogICAgICAgICAgICBfdGhpczMuY29tbWVudHMucHVzaChjb21tZW50KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYm9va21hcms6IGZ1bmN0aW9uIGJvb2ttYXJrKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIERpZCA9IHsKICAgICAgICB1c2VyX2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJfaWQsCiAgICAgICAgZGlzaF9pZDogdGhpcy5kaXNoX2lkCiAgICAgIH07CiAgICAgIGlmICghdGhpcy5ib29rbWFya2ZsYWcpIHsKICAgICAgICBhZGRGYXZvcihEaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0LmJvb2ttYXJrZmxhZyA9IHRydWU7CiAgICAgICAgICBfdGhpczQuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmiJDlip/mt7vliqDmlLbol48nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxGYXZvcihEaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0LmJvb2ttYXJrZmxhZyA9IGZhbHNlOwogICAgICAgICAgX3RoaXM0LiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAn5pS26JeP5bey5Yig6ZmkJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzdHJUb051bTogZnVuY3Rpb24gc3RyVG9OdW0oc3RyKSB7CiAgICAgIHJldHVybiBOdW1iZXIoc3RyKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBib29rbWFya2NvbG9yOiBmdW5jdGlvbiBib29rbWFya2NvbG9yKCkgewogICAgICBpZiAodGhpcy5ib29rbWFya2ZsYWcpIHsKICAgICAgICByZXR1cm4gInBpbmsiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiZ3JleSI7CiAgICAgIH0KICAgIH0sCiAgICBkaXNoX3BpY3R1cmU6IGZ1bmN0aW9uIGRpc2hfcGljdHVyZSgpIHsKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmRpc2hfbmFtZSkKICAgICAgcmV0dXJuICJmb29kaW1hZ2UvIiArIHRoaXMuZGlzaF9uYW1lICsgIi5wbmciOwogICAgfSwKICAgIHN0YXJfc3RyOiBmdW5jdGlvbiBzdGFyX3N0cigpIHsKICAgICAgcmV0dXJuICLwn5GN77iOIi5yZXBlYXQodGhpcy5kaXNoX3N0YXIpOwogICAgfSwKICAgIGRpc2hfc3Rhcl9udW06IGZ1bmN0aW9uIGRpc2hfc3Rhcl9udW0oKSB7CiAgICAgIHJldHVybiBOdW1iZXIodGhpcy5kaXNoX3N0YXIpOwogICAgfSwKICAgIHRvdGFsX3BhZ2Vfb2ZfY29tbWVudHM6IGZ1bmN0aW9uIHRvdGFsX3BhZ2Vfb2ZfY29tbWVudHMoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5jb21tZW50cy5sZW5ndGggLyB0aGlzLm51bU9mQ29tbWVudHNfcGVycGFnZSk7CiAgICB9LAogICAgbnVtb2ZDb21tZW50czogZnVuY3Rpb24gbnVtb2ZDb21tZW50cygpIHsKICAgICAgcmV0dXJuIHRoaXMuY29tbWVudHMubGVuZ3RoOwogICAgfQogIH0KfTs="},{"version":3,"names":["getComments","createComment","deleteComment","TextBox","addFavor","delFavor","fetchFavor","isFavor","name","components","props","data","dialog","textBox","user_id","$store","state","user","bookmarkflag","page","numOfComments_perpage","selected","comments","action","headline","title","subtitle","created","isfavor","methods","_this","Did","dish_id","console","log","then","response","flag","showFoodDetails","handleGetComments","showCommentTextBox","dish_name","joinstr","strs","join","handleDeleteComment","row","_this2","query","comment_id","$nextTick","setTimeout","listLoading","_this3","list_query","originData","comment_list","o","comment","user_name","comment_text","comment_star","push","bookmark","_this4","$notify","message","type","duration","strToNum","str","Number","computed","bookmarkcolor","dish_picture","star_str","repeat","dish_star","dish_star_num","total_page_of_comments","Math","ceil","length","numofComments"],"sources":["src/views/HomeView/components/foodCard.vue"],"sourcesContent":["<template>\n  <div>\n    <v-card\n      max-width=\"344\"\n      class=\"mx-auto\"\n      style=\"margin-bottom: 10px;\"\n    >\n      <v-list-item>\n        <v-list-item-avatar color=\"grey\">\n          <v-img src=\"https://pic.imgdb.cn/item/63a5c3aa08b6830163cf7ae9.png\">\n          </v-img>\n        </v-list-item-avatar>\n        <v-list-item-content>\n          <v-list-item-title class=\"headline\">{{ dish_name }}</v-list-item-title>\n          <v-list-item-subtitle>{{ canteen }}</v-list-item-subtitle>\n        </v-list-item-content>\n        <v-list-item-avatar>\n          <v-icon\n            v-show=\"showCrown\"\n            large\n            left\n            color=\"amber darken-1\"\n          >\n            mdi-crown\n          </v-icon>\n        </v-list-item-avatar>\n      </v-list-item>\n\n      <v-img\n        :src=\"dish_pic\"\n        height=\"194\"\n      ></v-img>\n\n\n      <v-card-text style=\"height: 50px;\">\n        {{ info }}\n      </v-card-text>\n\n      <v-card-actions>\n        <v-btn\n          text\n          color=\"deep-purple accent-4\"\n          @click=\"showFoodDetails()\"\n        >\n          Êü•Áúã\n        </v-btn>\n        <v-btn\n          text\n          color=\"deep-purple accent-4\"\n          @click=\"bookmark()\"\n        >\n          Êî∂Ëóè\n        </v-btn>\n        <v-spacer></v-spacer>\n\n        <v-btn icon @click=\"bookmark()\">\n          <v-icon :color=\"bookmarkcolor\">mdi-heart</v-icon>\n        </v-btn>\n        <v-btn @click=\"showCommentTextBox()\" icon>\n          <v-icon>mdi-message-minus</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n\n    <v-row justify=\"center\">\n      <v-dialog v-model=\"textBox\" width=\"600px\">\n        <v-toolbar\n          color=\"orange lighten-1\"\n          dark\n        >\n          <v-toolbar-title>ÂèëË°®ËØÑËÆ∫</v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn icon @click=\"textBox=false\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <text-box\n          :dish_id=\"this.dish_id\"\n          @close=\"textBox = false\"\n        ></text-box>\n      </v-dialog>\n    </v-row>\n\n\n    <v-row justify=\"center\">\n      <v-dialog v-model=\"dialog\" width=\"600px\">\n\n        <v-card\n          max-width=\"600px\"\n          class=\"mx-auto\"\n        >\n          <v-toolbar\n            color=\"orange lighten-1\"\n            dark\n          >\n            <v-app-bar-nav-icon></v-app-bar-nav-icon>\n\n            <v-toolbar-title>ËèúÂìÅËØ¶ÊÉÖ</v-toolbar-title>\n\n            <v-spacer></v-spacer>\n\n            <v-btn icon>\n              <v-icon>mdi-magnify</v-icon>\n            </v-btn>\n\n            <v-btn icon @click=\"dialog = false\">\n              <v-icon>mdi-checkbox-marked-circle</v-icon>\n            </v-btn>\n          </v-toolbar>\n          <br/>\n          <v-container>\n            <v-row dense>\n\n\n              <v-col\n                cols=\"12\"\n              >\n                <v-card\n                  color=\"orange lighten-3\"\n\n                >\n                  <div class=\"d-flex flex-no-wrap justify-space-between\">\n                    <div>\n                      <v-card-title\n                        class=\"headline\"\n                        v-text=\"dish_name\"\n                      ></v-card-title>\n\n                      <v-card-text>\n                        <v-row\n                          align=\"center\"\n                          class=\"mx-0\"\n                        >\n                          <v-rating\n                            :value=\"dish_star_num\"\n                            color=\"pink lighten-1\"\n                            dense\n                            half-increments\n                            readonly\n                            size=\"14\"\n                          ></v-rating>\n\n                          <div class=\"grey--text ml-4\">{{ dish_star }}({{ numofComments }})\n                            Âè£Âë≥:{{ joinstr(dish_tag) }}\n                          </div>\n                        </v-row>\n\n                        <div class=\"my-4 subtitle-1\">\n                          ¬•{{ dish_price }}\n                        </div>\n\n                        <div>{{ info }}</div>\n                      </v-card-text>\n                    </div>\n\n                    <v-avatar\n                      class=\"ma-3\"\n                      size=\"160\"\n                    >\n                      <v-img :src=\"dish_pic\"></v-img>\n                    </v-avatar>\n                  </div>\n                </v-card>\n              </v-col>\n            </v-row>\n          </v-container>\n\n          <v-data-iterator\n            :items=\"comments\"\n            :page=\"page\"\n            :items-per-page.sysc=\"numOfComments_perpage\"\n            no-data-text=\"ÊöÇÊó†ËØÑËÆ∫\"\n            hide-default-footer\n          >\n            <template v-slot:default=\"props\">\n              <v-list two-line>\n                <v-list-item-group\n                  v-model=\"selected\"\n                  multiple\n                  active-class=\"orange--text\"\n                >\n                  <template v-for=\"item in props.items\">\n                    <v-list-item :key=\"item.title\">\n                      <template v-slot:default=\"{ active, toggle }\">\n                        <v-list-item-content>\n                          <v-col cols=\"10\">\n                            <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n                            <v-list-item-subtitle class=\"text--primary\" v-text=\"item.headline\"></v-list-item-subtitle>\n                            <span v-html=\"item.subtitle\"></span>\n                            <v-row\n                              align=\"center\"\n                              class=\"mx-0\"\n                            >\n                              <v-rating\n                                :value=\"item.comment_star\"\n                                color=\"pink lighten-1\"\n                                dense\n                                half-increments\n                                readonly\n                                size=\"14\"\n                              ></v-rating>\n\n                              <div class=\"grey--text ml-4\">{{ item.comment_star }}</div>\n                            </v-row>\n                          </v-col>\n                          <v-col cols=\"1\">\n                            <v-btn\n                              v-if=\"Number(user_id) === item.user_id\"\n                              @click=\"handleDeleteComment(item)\"\n                              depressed\n                              right\n                              fab\n                              light\n                              small\n                              style=\"position: absolute;margin-left: 40px\"\n                            >\n                              <v-icon>\n                                mdi-delete\n                              </v-icon>\n                            </v-btn>\n                          </v-col>\n                        </v-list-item-content>\n\n                      </template>\n                    </v-list-item>\n\n                  </template>\n                </v-list-item-group>\n              </v-list>\n\n\n            </template>\n          </v-data-iterator>\n\n          <v-pagination\n            v-model=\"page\"\n            :length=\"total_page_of_comments\"\n            :total-visible=\"7\"\n          ></v-pagination>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"green darken-1\" text @click=\"dialog = false\">ËøîÂõû</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport {getComments, createComment, deleteComment} from \"@/api/comment\";\nimport TextBox from \"@/components/Comment/TextBox\";\nimport {addFavor, delFavor, fetchFavor, isFavor} from \"@/api/favor\";\n\nexport default {\n  name: \"foodCard\",\n  components: {TextBox},\n  props: ['dish_id', 'dish_name', 'canteen', 'dish_price', 'info', 'dish_star', 'dish_tag', 'showCrown', 'dish_pic'],\n  data() {\n    return {\n      dialog: false,\n      textBox: false,\n      user_id: this.$store.state.user.user_id,\n      bookmarkflag: true,\n      page: 1,\n      numOfComments_perpage: 5,\n      selected: [2],\n      comments: [\n        {\n          action: '15 min',\n          headline: 'Brunch this weekend?',\n          title: 'Ali Connors',\n          subtitle: \"I'll be in your neighborhood doing errands this weekend. Do you want to hang out?\",\n        }\n      ],\n    }\n  },\n  created() {\n    this.isfavor()\n  },\n  methods: {\n    isfavor() {\n      let Did = {\n        user_id: this.$store.state.user.user_id,\n        dish_id: this.dish_id\n      }\n      console.log(Did)\n      isFavor(Did).then((response) => {\n        let flag = response.data.isfavor\n        this.bookmarkflag = flag === 1;\n      })\n    },\n    showFoodDetails() {\n      console.log(this.user_id)\n      this.dialog = true\n      this.handleGetComments()\n    },\n    showCommentTextBox() {\n      this.textBox = true\n      console.log(\"this DishId is:\" + this.dish_id)\n      console.log(this.dish_name)\n    },\n    joinstr(strs) {\n      return strs.join()\n    },\n    handleDeleteComment(row) {\n      let query = {\n        comment_id: row.comment_id\n      }\n      deleteComment(query).then(() => {\n        this.$nextTick(() => {\n          this.handleGetComments()\n        })\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1.5 * 1000)\n      })\n    },\n    handleGetComments() {\n      let list_query = {user_id: this.user_id, dish_id: this.dish_id}\n      getComments(list_query).then((response) => {\n        let originData = response.data.comment_list\n        console.log(originData)\n        let o = {}\n        this.$nextTick(() => {\n          this.comments = []\n          for (o in originData) {\n            let comment = {\n              comment_id: originData[o].comment_id,\n              user_id: originData[o].user_id,\n              action: '',\n              headline: originData[o].user_name,\n              title: 'ËØÑËÆ∫',\n              subtitle: originData[o].comment_text,\n              comment_star: originData[o].comment_star\n            }\n            this.comments.push(comment)\n          }\n        })\n      })\n    },\n\n    bookmark() {\n      let Did = {\n        user_id: this.$store.state.user.user_id,\n        dish_id: this.dish_id\n      }\n      if (!this.bookmarkflag) {\n        addFavor(Did).then(() => {\n          this.bookmarkflag = true\n          this.$notify({\n            title: 'Success',\n            message: 'ÊàêÂäüÊ∑ªÂä†Êî∂Ëóè',\n            type: 'success',\n            duration: 2000\n          })\n        })\n      } else {\n        delFavor(Did).then(() => {\n          this.bookmarkflag = false\n          this.$notify({\n            title: 'Success',\n            message: 'Êî∂ËóèÂ∑≤Âà†Èô§',\n            type: 'warning',\n            duration: 2000\n          })\n        })\n      }\n    },\n    strToNum(str) {\n      return Number(str)\n    }\n  },\n  computed: {\n    bookmarkcolor() {\n      if (this.bookmarkflag) {\n        return \"pink\"\n      } else {\n        return \"grey\"\n      }\n    },\n    dish_picture() {\n      //console.log(this.dish_name)\n      return \"foodimage/\" + this.dish_name + \".png\"\n    },\n    star_str() {\n      return \"üëçÔ∏é\".repeat(this.dish_star)\n    },\n    dish_star_num() {\n      return Number(this.dish_star)\n    },\n\n    total_page_of_comments() {\n      return Math.ceil(this.comments.length / this.numOfComments_perpage)\n    },\n    numofComments() {\n      return this.comments.length\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"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"}]}